<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-home/example-tarochi/example-tarochi" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Tarochi | Effectstream</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://effectstream.github.io/docs/img/paima-banner.png"><meta data-rh="true" name="twitter:image" content="https://effectstream.github.io/docs/img/paima-banner.png"><meta data-rh="true" property="og:url" content="https://effectstream.github.io/docs/home/example-tarochi/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tarochi | Effectstream"><meta data-rh="true" name="description" content="Tarochi is an online decentralized, on-chain, autonomous, Web3 game developed entirely with Effectstream."><meta data-rh="true" property="og:description" content="Tarochi is an online decentralized, on-chain, autonomous, Web3 game developed entirely with Effectstream."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://effectstream.github.io/docs/home/example-tarochi/"><link data-rh="true" rel="alternate" href="https://effectstream.github.io/docs/home/example-tarochi/" hreflang="en"><link data-rh="true" rel="alternate" href="https://effectstream.github.io/docs/ja/home/example-tarochi/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://effectstream.github.io/docs/home/example-tarochi/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.3561bdc5.css">
<script src="/docs/assets/js/runtime~main.1e181de6.js" defer="defer"></script>
<script src="/docs/assets/js/main.c97cdaa8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/docs/img/favicon.ico"><div role="region" aria-label="Skip to main content"><a class="skipToContent_LRwd" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_llC7" style="background-color:#fffcf9;color:#ef476f" role="banner"><div class="content_Pagn announcementBarContent_QHqT">
      <div class="custom-banner">
        <p><strong>You are looking at Effectstream v2 docs</strong></p>
        <p>Effectstream v2 is still under constructionðŸš§</p>
      </div>
    </div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/docs/"><div class="navbar__logo"><img src="/docs/img/favicon.ico" alt="Effectstream logo" class="themedComponent_m_92 themedComponent--light_mRW5"><img src="/docs/img/favicon.ico" alt="Effectstream logo" class="themedComponent_m_92 themedComponent--dark_iQ27"></div><b class="navbar__title text--truncate">Effectstream</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_J6rI"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/home/example-tarochi/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/docs/ja/home/example-tarochi/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">Japanese</a></li></ul></div><div class="navbarSearchContainer_E3Re"><div class="navbar__search searchBarContainer_sERs" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_s8y1 searchBarLoadingRing_W2S3"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Gcnp"><div class="docsWrapper_xhHm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_P6dF" type="button"></button><div class="docRoot_QZFe"><aside class="theme-doc-sidebar-container docSidebarContainer_z8Xi"><div class="sidebarViewport_LtND"><div class="sidebar_eBd7"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_sQgX menuWithAnnouncementBar_IFIy"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/">Intro</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-effectstream">What is Effectstream?</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/home/components/">Components</a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/home/chains/">Chains</a><button aria-label="Expand sidebar category &#x27;Chains&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/home/deployment/deploy-game">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/home/paima-standards/">Paima Standards (PRCs)</a><button aria-label="Expand sidebar category &#x27;Paima Standards (PRCs)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/home/paima-engine/">Architecture</a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/home/example-tarochi/">Game Examples</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/home/templates/evm-midnight">Templates</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/PaimaStudios/paima-game-templates" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_TdTm">Paima Game Templates<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_Y7wO"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/PaimaStudios/paima-engine/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_TdTm">Paima Engine Code<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_Y7wO"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://paimastudios.com" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_TdTm">Paima Studios Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_Y7wO"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_PnPB"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Haw5"><div class="docItemContainer_OM9T"><article><div class="tocCollapsible_o4j2 theme-doc-toc-mobile tocMobile_PSvY"><button type="button" class="clean-btn tocCollapsibleButton_GQbL">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tarochi</h1></header>
<p><strong>Tarochi</strong> is an online decentralized, on-chain, autonomous, Web3 game developed entirely with <code>Effectstream</code>.</p>
<blockquote>
<p><strong>Decentralized</strong>: The game runs on a decentralized network of nodes, and is not owned or controlled by a single entity.<br>
<strong>On-chain</strong>: The game is built on top of the blockchain, and all game data is stored on the blockchain.<br>
<strong>Autonomous</strong>: The game is self-governed and self-sustaining, without the need for external intervention.<br>
<strong>Web3</strong>: The game is built on top of blockchains, wallets, smart-contracts and other Web3 technologies.</p>
</blockquote>
<iframe src="https://drive.google.com/file/d/1--jE8nVOyhrPqh5IWmahys2aCrKn23aI/preview" width="640" height="480" allow="autoplay"></iframe>
<blockquote>
<p>This is a development stage video of the game</p>
</blockquote>
<p>This guide is intended as a practical example of how a complex, fully on-chain game can be developed using <code>Effectstream</code>.</p>
<h1>Game Design</h1>
<p>We will not deep-dive into the game loop design, but rather focus on important architectural and economic decisions you need to make for a decentralized blockchain game.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Rug2xtaq-7c?si=lBGH0HN0QC-dcdWC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="game-engine-gamemaker--web3-integration">Game Engine: GameMaker &amp; Web3 Integration<a href="#game-engine-gamemaker--web3-integration" class="hash-link" aria-label="Direct link to Game Engine: GameMaker &amp; Web3 Integration" title="Direct link to Game Engine: GameMaker &amp; Web3 Integration">â€‹</a></h2>
<p>Tarochi was built using <strong><a href="https://gamemaker.io/" target="_blank" rel="noopener noreferrer">GameMaker</a></strong>, a beginner-to-advanced friendly tool for creating 2D experiences. While renowned for its intuitive interface, GameMaker&#x27;s reliance on its proprietary GameMaker Language (GML) has historically made it difficult to integrate with the JavaScript-heavy world of Web3.</p>
<p>To bridge this gap, Effectstream provides a template and adapter for GameMaker, allowing developers to connect their GML code to JavaScript. This enables the use of Effectstream&#x27;s state machine framework for on-chain game logic while leveraging GameMaker for UI and multi-platform support (desktop, mobile, consoles, and browsers).</p>
<iframe width="100%" height="440" src="https://www.youtube.com/embed/ePhIU1Hla-g?si=OTpnPs_MsNBS-sjZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<h3 class="anchor anchorWithStickyNavbar_qIhk" id="connecting-gamemaker-with-javascript">Connecting GameMaker with JavaScript<a href="#connecting-gamemaker-with-javascript" class="hash-link" aria-label="Direct link to Connecting GameMaker with JavaScript" title="Direct link to Connecting GameMaker with JavaScript">â€‹</a></h3>
<p>Nearly all Web3 tools are written in or compatible with JavaScript, primarily because crypto wallets are most commonly used as browser extensions. GameMaker&#x27;s ability to compile games to HTML5 makes it a viable choice for web-based dApps.</p>
<p>Our GameMaker template introduces a custom-built adapter that allows GML code to call JavaScript functions and receive callbacks from them. This enables a GameMaker application to handle everything from wallet connections to direct interactions with Effectstream and other Web3 libraries.</p>
<p><img decoding="async" loading="lazy" src="/docs/assets/images/1100-gm-0d51d7f01b525471314b5fedfe9784cb.png" width="677" height="403" class="img_UUpp"></p>
<p>This adapter is not limited to Web3. In Tarochi, the same concept was used to build menus and overlays using the popular frontend framework Vue.js, demonstrating the flexibility of this approach.</p>
<p><img decoding="async" loading="lazy" src="/docs/assets/images/1100-players-in-area-da57749a92558cd910d14fea6833a701.png" width="2130" height="1196" class="img_UUpp"></p>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="architecture--tokenomics">Architecture &amp; Tokenomics<a href="#architecture--tokenomics" class="hash-link" aria-label="Direct link to Architecture &amp; Tokenomics" title="Direct link to Architecture &amp; Tokenomics">â€‹</a></h2>
<p>Tarochi&#x27;s architecture is a multi-layered stack designed for massive scalability, allowing it to handle over <strong>1 million transactions in less than 100 hours</strong> post-launch. Transactions are fast and cheap enough for the team to subsidize gas fees for all players.</p>
<p>The stack is layered as follows:</p>
<ul>
<li><strong>L1: Ethereum</strong> (Primary settlement layer)</li>
<li><strong>L2: Arbitrum</strong> (For liquidity and DEX interactions)</li>
<li><strong>L3: Xai</strong> (For fast, low-cost data availability and game actions)</li>
<li><strong>L4: Tarochi</strong> (The game&#x27;s sovereign rollup, built with Effectstream)</li>
</ul>
<p>Effectstream allows Tarochi to be a non-EVM application, enabling a more complex and dynamic world while maintaining decentralization. It achieves this by simultaneously monitoring multiple chains (Arbitrum, Xai, and Cardano), leveraging the low costs of Xai for gameplay while tapping into the liquidity of Arbitrum for its tokens and NFTs.</p>
<p><img decoding="async" loading="lazy" src="/docs/assets/images/1100-layers-d799c6f60c61756424c1c8bc9bd80336.png" width="878" height="878" class="img_UUpp"></p>
<h3 class="anchor anchorWithStickyNavbar_qIhk" id="the-role-of-tgold">The Role of TGOLD<a href="#the-role-of-tgold" class="hash-link" aria-label="Direct link to The Role of TGOLD" title="Direct link to The Role of TGOLD">â€‹</a></h3>
<p><strong>TGOLD</strong> is the native token for the Tarochi L4 autonomous world and is used for in-game economic activities, such as purchasing items. While TGOLD powers the L4&#x27;s economy, it is made tradable on Arbitrum One through a custom DEX.</p>
<p>Trades made on the Arbitrum DEX are reflected directly in the Tarochi L4 without requiring a traditional bridge. This is possible because Effectstream monitors both chains. However, this architecture means TGOLD cannot be traded in standard AMMs like Uniswap, as they are not aware of the L4 connection.</p>
<h3 class="anchor anchorWithStickyNavbar_qIhk" id="in-game-assets">In-Game Assets<a href="#in-game-assets" class="hash-link" aria-label="Direct link to In-Game Assets" title="Direct link to In-Game Assets">â€‹</a></h3>
<ul>
<li><strong>ERC1155 <code>Gold</code> (TGOLD)</strong>: The primary in-game currency, convertible to its on-chain representation on Arbitrum.</li>
<li><strong>ERC721 <code>Trainer</code> Assets</strong>: Limited supply NFTs that provide in-game benefits if held in the player&#x27;s wallet.</li>
<li><strong>ERC721 <code>Monsters</code></strong>: Can be minted on-chain or captured in-game and are convertible between their on-chain and in-game forms.</li>
<li><strong><code>Items</code></strong>: These exist only within the L4 game state and are not on-chain assets.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_qIhk" id="general-rules">General Rules:<a href="#general-rules" class="hash-link" aria-label="Direct link to General Rules:" title="Direct link to General Rules:">â€‹</a></h3>
<ul>
<li>Common monsters are unlimited.</li>
<li>Rare+ monsters are limited by time.</li>
<li>Monsters are &quot;sacrificed&quot; to increase their max level.</li>
<li>Gold is consumed when used in a store.</li>
<li>A limited amount of new Gold was minted.</li>
<li>Trainers are limited.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_qIhk" id="exchanges-and-dex">Exchanges and DEX:<a href="#exchanges-and-dex" class="hash-link" aria-label="Direct link to Exchanges and DEX:" title="Direct link to Exchanges and DEX:">â€‹</a></h3>
<ul>
<li>Gold, Trainers, and Monsters were available to mint on EVM and partially on Cardano.</li>
<li>NFT marketplaces like OpenSea and Jpg.store were used for Monster and Trainer exchanges.</li>
<li>The Effectstream DEX on Arbitrum was used for trading Gold.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="contracts">Contracts<a href="#contracts" class="hash-link" aria-label="Direct link to Contracts" title="Direct link to Contracts">â€‹</a></h2>
<ul>
<li><strong><code>Effectstream L2</code></strong>: This contract is extensively used for submitting game inputs. It runs on the XAI network for its fast block time and low gas fees.</li>
<li><strong><code>IInverseAppProjectedNft</code></strong>: Standard ERC721, with the ability to represent L4 assets as NFTs on L1.</li>
<li><strong><code>IInverseAppProjected1155</code></strong>: Standard ERC1155, with the ability to represent L4 fungible/semi-fungible assets on L1.</li>
<li><strong><code>IOrderbookDex</code></strong>: TGold DEX Contract.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="frontend--wallets">Frontend &amp; Wallets<a href="#frontend--wallets" class="hash-link" aria-label="Direct link to Frontend &amp; Wallets" title="Direct link to Frontend &amp; Wallets">â€‹</a></h2>
<p>To interact with the <code>Effectstream L2</code> contract, the game used a browser EVM Wallet and sent transactions to the batcher. Players could connect their real EVM or Cardano wallets to mint monsters, use trainer effects, and perform other actions requiring a signature.</p>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="state-machine">State Machine<a href="#state-machine" class="hash-link" aria-label="Direct link to State Machine" title="Direct link to State Machine">â€‹</a></h2>
<p>The Tarochi <code>State Machine</code> is a set of triggers that react to on-chain events, such as a Monster mint or Gold transfer, but primarily to inputs submitted via the <code>Effectstream L2</code> Contract. Each keyword in the <code>grammar</code> is implemented as a <code>State Transition Function</code>.</p>
<p>For example:</p>
<ul>
<li><code>useItem = @c|item|argument?</code>: This STF first checks if the user has the item and is in a valid state to use it (e.g., not in battle). If all rules pass, it deducts the item and applies its effects.</li>
<li><code>fastTravel = @f|x|y</code>: This STF checks if the user can fast travel, verifies the target coordinates, moves the player to the new map, and updates any zone-specific effects.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="grammar">Grammar<a href="#grammar" class="hash-link" aria-label="Direct link to Grammar" title="Direct link to Grammar">â€‹</a></h2>
<blockquote>
<p>Important: This is Effectstream V1 Grammar, so it&#x27;s slightly different from the new Effectstream V2 Grammar, but it represents the same concepts.</p>
</blockquote>
<div class="language-ts codeBlockContainer_Epcf theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_zcFB"><pre tabindex="0" class="prism-code language-ts codeBlock_JaaR thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_O7QW"><span class="token-line" style="color:#F8F8F2"><span class="token plain">join                    </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">j</span><span class="token operator">|</span><span class="token plain">referrer</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">setReferrer             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">k</span><span class="token operator">|</span><span class="token plain">referrer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rename                  </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">rn</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">name</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">moveToArea              </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">m</span><span class="token operator">|</span><span class="token plain">x</span><span class="token operator">|</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fastTravel              </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">f</span><span class="token operator">|</span><span class="token plain">x</span><span class="token operator">|</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">battleCommand           </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">b</span><span class="token operator">|</span><span class="token plain">battleType</span><span class="token operator">|</span><span class="token plain">round</span><span class="token operator">|</span><span class="token plain">action</span><span class="token operator">|</span><span class="token plain">action_data</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">switchMonsters          </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">x</span><span class="token operator">|</span><span class="token plain">swap_commands</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">startPVEBattle          </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">e</span><span class="token operator">|</span><span class="token plain">npc_trainer_global_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">startPVPBattle          </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">p</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">player</span><span class="token operator">|</span><span class="token plain">battle_type</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">healCenter              </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">h</span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">useItem                 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">c</span><span class="token operator">|</span><span class="token plain">item</span><span class="token operator">|</span><span class="token plain">argument</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">purchaseItem            </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">r</span><span class="token operator">|</span><span class="token plain">item</span><span class="token operator">|</span><span class="token plain">count</span><span class="token operator">?</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">barter                  </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">t</span><span class="token operator">|</span><span class="token plain">give</span><span class="token operator">|</span><span class="token plain">amount</span><span class="token operator">|</span><span class="token plain">receive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">excavate                </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">z</span><span class="token operator">|</span><span class="token plain">use_item</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">claim                   </span><span class="token operator">=</span><span class="token plain"> g</span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">redeem                  </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">w</span><span class="token operator">|</span><span class="token plain">blockHeight</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">merge                   </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">q</span><span class="token operator">|</span><span class="token plain">monster_target</span><span class="token operator">|</span><span class="token plain">monsters</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mergeTGold              </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">qt</span><span class="token operator">|</span><span class="token plain">monster_target</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nop                     </span><span class="token operator">=</span><span class="token plain"> n</span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arenaBattle             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">n</span><span class="token operator">|</span><span class="token plain">arena_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">internalCommands        </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">a</span><span class="token operator">|</span><span class="token plain">cmd</span><span class="token operator">|</span><span class="token plain">id</span><span class="token operator">?</span><span class="token operator">|</span><span class="token plain">args</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buyCaptureItem          </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">i</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">player</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleRandomEncounter </span><span class="token operator">=</span><span class="token plain"> w</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">player</span><span class="token operator">|</span><span class="token plain">x</span><span class="token operator">|</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleDaily           </span><span class="token operator">=</span><span class="token plain"> d</span><span class="token operator">|</span><span class="token plain">tick</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleHourly          </span><span class="token operator">=</span><span class="token plain"> h</span><span class="token operator">|</span><span class="token plain">tick</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleQuarterHour     </span><span class="token operator">=</span><span class="token plain"> q</span><span class="token operator">|</span><span class="token plain">tick</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleNoAction        </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token operator">|</span><span class="token plain">blockHeight</span><span class="token operator">|</span><span class="token plain">battleType</span><span class="token operator">|</span><span class="token plain">round</span><span class="token operator">|</span><span class="token plain">wallet_a</span><span class="token operator">|</span><span class="token plain">wallet_b</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleStatusEffect    </span><span class="token operator">=</span><span class="token plain"> s</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">player</span><span class="token operator">|</span><span class="token plain">item_id</span><span class="token operator">|</span><span class="token plain">monster_id</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sendGold                </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">s</span><span class="token operator">|</span><span class="token plain">to_player</span><span class="token operator">|</span><span class="token plain">amount</span><span class="token operator">|</span><span class="token plain">signature</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">lockGold                </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">l</span><span class="token operator">|</span><span class="token plain">amount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sendMonster             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">u</span><span class="token operator">|</span><span class="token plain">to_player</span><span class="token operator">|</span><span class="token plain">monster_id</span><span class="token operator">|</span><span class="token plain">signature</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">appMonsterLock          </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">d</span><span class="token operator">|</span><span class="token plain">monster_id</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">monster_lock            </span><span class="token operator">=</span><span class="token plain"> monster_lock</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">monster_burn            </span><span class="token operator">=</span><span class="token plain"> monster_burn</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">monster_transfer        </span><span class="token operator">=</span><span class="token plain"> monster_transfer</span><span class="token operator">|</span><span class="token plain">address</span><span class="token operator">|</span><span class="token plain">nft_id</span><span class="token operator">|</span><span class="token plain">data</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">delegate                </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">wd</span><span class="token operator">|</span><span class="token plain">from</span><span class="token operator">?</span><span class="token operator">|</span><span class="token plain">to</span><span class="token operator">?</span><span class="token operator">|</span><span class="token plain">from_signature</span><span class="token operator">|</span><span class="token plain">to_signature</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">migrate                 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">wm</span><span class="token operator">|</span><span class="token plain">from</span><span class="token operator">?</span><span class="token operator">|</span><span class="token plain">to</span><span class="token operator">?</span><span class="token operator">|</span><span class="token plain">from_signature</span><span class="token operator">|</span><span class="token plain">to_signature</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cancelDelegations       </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">wc</span><span class="token operator">|</span><span class="token plain">to</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">createEventTeam         </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">ev</span><span class="token operator">|</span><span class="token plain">event_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interactEventTeam       </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">ei</span><span class="token operator">|</span><span class="token plain">action</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">team_id</span><span class="token operator">|</span><span class="token plain">data</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">event_step              </span><span class="token operator">=</span><span class="token plain"> event_step</span><span class="token operator">|</span><span class="token plain">event_id</span><span class="token operator">|</span><span class="token plain">step</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">event_end               </span><span class="token operator">=</span><span class="token plain"> event_end</span><span class="token operator">|</span><span class="token plain">event_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">createGuild             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">gc</span><span class="token operator">|</span><span class="token plain">name</span><span class="token operator">|</span><span class="token plain">social_link</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interactGuild           </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">gi</span><span class="token operator">|</span><span class="token plain">action</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">guild_id</span><span class="token operator">|</span><span class="token plain">data</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">buyForGuild             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">gs</span><span class="token operator">|</span><span class="token plain">action</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">guild_id</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gold_mint               </span><span class="token operator">=</span><span class="token plain"> gold_mint</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gold_burn               </span><span class="token operator">=</span><span class="token plain"> gold_burn</span><span class="token operator">|</span><span class="token plain">operator</span><span class="token operator">|</span><span class="token plain">from</span><span class="token operator">|</span><span class="token plain">ids</span><span class="token operator">|</span><span class="token plain">values</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">acceptDaily             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">da</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">daily_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">forSaleDaily            </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">ds</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">daily_id</span><span class="token operator">|</span><span class="token plain">price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cancelDaily             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">dc</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">daily_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">purchaseDaily           </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">dp</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">daily_id</span><span class="token operator">|</span><span class="token plain">fee_wallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">scheduleDailyQuestEnd   </span><span class="token operator">=</span><span class="token plain"> dq</span><span class="token operator">|</span><span class="token operator">*</span><span class="token plain">daily_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">masterDaily             </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">dm</span><span class="token operator">|</span><span class="token plain">action</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">giveItem                </span><span class="token operator">=</span><span class="token plain"> i</span><span class="token operator">|</span><span class="token plain">message</span><span class="token operator">|</span><span class="token plain">item_id</span><span class="token operator">|</span><span class="token plain">signature</span><span class="token operator">|</span><span class="token plain">wallets</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dex_order_created       </span><span class="token operator">=</span><span class="token plain"> dex_order_created</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dex_order_cancelled     </span><span class="token operator">=</span><span class="token plain"> dex_order_cancelled</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dex_order_filled        </span><span class="token operator">=</span><span class="token plain"> dex_order_filled</span><span class="token operator">|</span><span class="token plain">payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">updateCardanoLink       </span><span class="token operator">=</span><span class="token plain"> </span><span class="token decorator at operator">@</span><span class="token decorator function" style="color:rgb(80, 250, 123)">co</span><span class="token operator">|</span><span class="token plain">token</span><span class="token operator">|</span><span class="token plain">address</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_qIhk" id="processes">Processes<a href="#processes" class="hash-link" aria-label="Direct link to Processes" title="Direct link to Processes">â€‹</a></h2>
<p>For the development of Tarochi, the following processes need to be run:</p>
<ul>
<li>EVM Main Chain with fast block times (emulating XAI) + RPC</li>
<li>EVM Parallel Chain (emulating Arbitrum) + RPC</li>
<li>Cardano Parallel Chain</li>
<li>Game and Token Smart Contracts</li>
<li>Database (Postgres)</li>
<li>Batcher (to allow users to submit transactions to the Effectstream L2 contract without paying for gas or having a wallet)</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/PaimaStudios/paima-engine-docs/tree/main/docs/home/1100-example-tarochi/1100-example-tarochi.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_uRRq" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_xDOh"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/home/paima-engine/contributions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Contributing to Effectstream</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/home/templates/evm-midnight"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EVM-Midnight Template</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Fe6u thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#game-engine-gamemaker--web3-integration" class="table-of-contents__link toc-highlight">Game Engine: GameMaker &amp; Web3 Integration</a><ul><li><a href="#connecting-gamemaker-with-javascript" class="table-of-contents__link toc-highlight">Connecting GameMaker with JavaScript</a></li></ul></li><li><a href="#architecture--tokenomics" class="table-of-contents__link toc-highlight">Architecture &amp; Tokenomics</a><ul><li><a href="#the-role-of-tgold" class="table-of-contents__link toc-highlight">The Role of TGOLD</a></li><li><a href="#in-game-assets" class="table-of-contents__link toc-highlight">In-Game Assets</a></li><li><a href="#general-rules" class="table-of-contents__link toc-highlight">General Rules:</a></li><li><a href="#exchanges-and-dex" class="table-of-contents__link toc-highlight">Exchanges and DEX:</a></li></ul></li><li><a href="#contracts" class="table-of-contents__link toc-highlight">Contracts</a></li><li><a href="#frontend--wallets" class="table-of-contents__link toc-highlight">Frontend &amp; Wallets</a></li><li><a href="#state-machine" class="table-of-contents__link toc-highlight">State Machine</a></li><li><a href="#grammar" class="table-of-contents__link toc-highlight">Grammar</a></li><li><a href="#processes" class="table-of-contents__link toc-highlight">Processes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Midnight Foundation. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>